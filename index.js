var p=Object.defineProperty;var M=(d,e,t)=>e in d?p(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t;var r=(d,e,t)=>(M(d,typeof e!="symbol"?e+"":e,t),t);import{W as g,S as v,P as y,C as b,V as L,G as Y,M as m,A as E,B as c,a,b as w,O as A,c as D,D as H,d as z,T as G,e as I}from"./vendor.js";const R=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}};R();class C{constructor(e=60,t=1.333,n=1,s=1e3){r(this,"aspectRatio");r(this,"fov");r(this,"znear");r(this,"zfar");r(this,"renderer");r(this,"scene");r(this,"camera");r(this,"clock");this.fov=e,this.aspectRatio=t,this.znear=n,this.zfar=s,this.renderer=new g,this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.resize(),window.addEventListener("resize",()=>{this.resize()},!1),window.addEventListener("mousedown",i=>{this.onMouseDown(i)}),window.addEventListener("mouseup",i=>{this.onMouseUp(i)}),window.addEventListener("mousemove",i=>{this.onMouseMove(i)}),window.addEventListener("wheel",i=>{this.onMouseWheel(i)}),window.addEventListener("keydown",i=>{this.onKeyDown(i)}),window.addEventListener("keyup",i=>{this.onKeyUp(i)}),this.scene=new v,this.camera=new y(this.fov,this.aspectRatio,this.znear,this.zfar),this.clock=new b}start(){this.createScene(),this.mainLoop()}mainLoop(){this.update(this.clock.getDelta()),this.renderer.render(this.scene,this.camera),window.requestAnimationFrame(()=>this.mainLoop())}resize(){this.renderer.setSize(window.innerWidth,window.innerHeight);var e=new L;this.renderer.getViewport(e);var t=window.innerWidth/window.innerHeight;this.aspectRatio>t?this.renderer.setViewport(0,(window.innerHeight-window.innerWidth/this.aspectRatio)/2,window.innerWidth,window.innerWidth/this.aspectRatio):this.renderer.setViewport((window.innerWidth-window.innerHeight*this.aspectRatio)/2,0,window.innerHeight*this.aspectRatio,window.innerHeight)}onMouseDown(e){}onMouseUp(e){}onMouseMove(e){}onMouseWheel(e){}onKeyDown(e){}onKeyUp(e){}}class h extends Y{constructor(e){super();r(this,"name");r(this,"defaultMaterial");r(this,"debugHelper");this.name=e,this.defaultMaterial=new m,this.defaultMaterial.wireframe=!1,this.debugHelper=new E(.07),this.debugHelper.visible=!1,this.add(this.debugHelper)}createMeshes(){if(this.name=="root"){this.add(new h("upperArm"));const e=new c(.5,.05,.5),t=new a(e,this.defaultMaterial);t.translateY(.025),this.add(t);const n=new w(.1,16,6,0,Math.PI*2,0,Math.PI/2),s=new a(n,this.defaultMaterial);s.translateY(.05),this.add(s),this.add(new h("upperArm"))}if(this.name=="upperArm"){const e=new c(.05,.5,.05),t=new a(e,this.defaultMaterial);t.translateY(.25),this.add(t);const n=new w(.05),s=new a(n,this.defaultMaterial);s.translateY(.5),this.add(s),this.add(new h("middleArm"))}else if(this.name=="middleArm"){this.translateY(.5),this.rotateZ(45*Math.PI/180);const e=new c(.05,.4,.05),t=new a(e,this.defaultMaterial);t.translateY(.2),this.add(t);const n=new w(.05),s=new a(n,this.defaultMaterial);s.translateY(.4),this.add(s),this.add(new h("lowerArm"))}else if(this.name=="lowerArm"){this.translateY(.4),this.rotateZ(45*Math.PI/180);const e=new c(.05,.4,.05),t=new a(e,this.defaultMaterial);t.translateY(.2),this.add(t);const n=new w(.05),s=new a(n,this.defaultMaterial);s.translateY(.4),this.add(s),this.add(new h("endEffector"))}else if(this.name=="endEffector"){this.translateY(.4),this.rotateZ(45*Math.PI/180),this.rotateY(90*Math.PI/180);const e=.2/1.5,t=new c(.025,e,.025),n=new a(t,this.defaultMaterial);n.rotateZ(45*Math.PI/180),n.translateY(e/2+.04),this.add(n);const s=new a(t,this.defaultMaterial);s.translateY(e/2),s.rotateZ(-75*Math.PI/180),s.translateY(e/2-.01225),n.add(s);const i=new a(t,this.defaultMaterial);i.rotateZ(-45*Math.PI/180),i.translateY(e/2+.04),this.add(i);const o=new a(t,this.defaultMaterial);o.translateY(e/2),o.rotateZ(75*Math.PI/180),o.translateY(e/2-.01225),i.add(o)}this.children.forEach(e=>{e instanceof h&&e.createMeshes()})}setRotation(e,t){this.name==e?this.setRotationFromEuler(t):this.children.forEach(n=>{n instanceof h&&n.setRotation(e,t)})}setDebugMode(e){this.defaultMaterial.wireframe=e,this.debugHelper.visible=e,this.children.forEach(t=>{t instanceof h&&t.setDebugMode(e)})}}class W extends C{constructor(){super(60,1920/1080,.1,10);r(this,"debugMode");r(this,"robotRoot");r(this,"targetMesh");this.debugMode=!1,this.robotRoot=new h("root"),this.targetMesh=new a}createScene(){this.camera.position.set(0,0,1.5),this.camera.lookAt(0,0,0),this.camera.up.set(0,1,0);const e=new A(this.camera,this.renderer.domElement);var t=new D("white",.3);this.scene.add(t);var n=new H("white",.6);n.position.set(0,2,1),this.scene.add(n);var s=new z,i=s.addFolder("Debugging");i.open();var o=i.add(this,"debugMode");o.name("Debug Mode"),o.onChange(f=>{this.toggleDebugMode(f)}),this.targetMesh.geometry=new w(.01),this.targetMesh.material=new m({color:"skyblue"}),this.targetMesh.position.set(.5,0,-.5),this.scene.add(this.targetMesh);const l=new G(this.camera,this.renderer.domElement);l.setSize(.5),l.attach(this.targetMesh),l.addEventListener("mouseDown",()=>{e.enabled=!1}),l.addEventListener("mouseUp",()=>{e.enabled=!0}),this.scene.add(l);const u=new I(10,10);this.scene.add(u),u.translateY(-.6),this.robotRoot.createMeshes(),this.robotRoot.translateY(-.6),this.scene.add(this.robotRoot)}update(e){}toggleDebugMode(e){this.robotRoot.setDebugMode(e)}}var S=new W;S.start();
